{"ast":null,"code":"var _jsxFileName = \"/Users/achilles/Documents/GitHub/Find-Location-React-Redux/src/views/components/location-table-list.js\",\n    _s = $RefreshSig$();\n\nimport { connect } from \"react-redux\";\nimport { useState } from \"react\";\nimport { updateList } from \"../../redux/reducer\";\nimport { Table, Button, Popconfirm } from \"antd\";\nimport styles from \"../scss/location-table-list.module.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction LocationTableList(props) {\n  _s();\n\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\n  const [visible, setVisible] = useState(false);\n  const data = props.list;\n  const columns = [{\n    title: \"Latitude\",\n    dataIndex: \"lat\"\n  }, {\n    title: \"Longitude\",\n    dataIndex: \"lng\"\n  }, {\n    title: \"Location\",\n    dataIndex: \"address\"\n  }];\n\n  const onSelectChange = selectedRowKeys => {\n    console.log(\"selectedRowKeys changed: \", selectedRowKeys);\n    setSelectedRowKeys(selectedRowKeys);\n  };\n\n  const rowSelection = {\n    selectedRowKeys,\n    onChange: onSelectChange\n  };\n\n  const handleDelete = () => {\n    const tmpList = props.list.filter(item => selectedRowKeys.indexOf(item.key) === -1 //delete those selected items\n    );\n    console.log(\"onDeleteClick new list: \", tmpList);\n    props.updateList(tmpList);\n    setSelectedRowKeys([]);\n  };\n\n  const showPopconfirm = () => {\n    setVisible(true);\n  };\n\n  const handleOK = () => {\n    setVisible(false);\n    handleDelete(); //delete selected after confirming\n  };\n\n  const handleCancel = () => {\n    setVisible(false);\n  };\n\n  const hasSelected = selectedRowKeys.length > 0;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles[\"location-table-container\"],\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"location-table\",\n      children: [/*#__PURE__*/_jsxDEV(Popconfirm, {\n        title: \"Are you sure to delete?\",\n        visible: visible,\n        onConfirm: handleOK,\n        onCancel: handleCancel,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          onClick: showPopconfirm,\n          disabled: !hasSelected,\n          style: {\n            marginBottom: 10\n          },\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        rowSelection: rowSelection,\n        columns: columns,\n        dataSource: data,\n        pagination: {\n          pageSize: 10\n        },\n        bordered: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n\n_s(LocationTableList, \"BLJNzhOH8GbkEvIrEHtOxXeo+G4=\");\n\n_c = LocationTableList;\nexport default connect(state => {\n  const {\n    list\n  } = state;\n  return {\n    list\n  };\n}, {\n  updateList\n})(LocationTableList);\n\nvar _c;\n\n$RefreshReg$(_c, \"LocationTableList\");","map":{"version":3,"sources":["/Users/achilles/Documents/GitHub/Find-Location-React-Redux/src/views/components/location-table-list.js"],"names":["connect","useState","updateList","Table","Button","Popconfirm","styles","LocationTableList","props","selectedRowKeys","setSelectedRowKeys","visible","setVisible","data","list","columns","title","dataIndex","onSelectChange","console","log","rowSelection","onChange","handleDelete","tmpList","filter","item","indexOf","key","showPopconfirm","handleOK","handleCancel","hasSelected","length","marginBottom","pageSize","state"],"mappings":"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","sourcesContent":["import { connect } from \"react-redux\";\nimport { useState } from \"react\";\nimport { updateList } from \"../../redux/reducer\";\nimport { Table, Button, Popconfirm } from \"antd\";\nimport styles from \"../scss/location-table-list.module.scss\";\n\nfunction LocationTableList(props) {\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\n  const [visible, setVisible] = useState(false);\n  const data = props.list;\n\n  const columns = [\n    \n    {\n      title: \"Latitude\",\n      dataIndex: \"lat\",\n    },\n    {\n      title: \"Longitude\",\n      dataIndex: \"lng\",\n    },\n    {\n      title: \"Location\",\n      dataIndex: \"address\",\n    },\n  ];\n\n  const onSelectChange = (selectedRowKeys) => {\n    console.log(\"selectedRowKeys changed: \", selectedRowKeys);\n    setSelectedRowKeys(selectedRowKeys);\n  };\n\n  const rowSelection = {\n    selectedRowKeys,\n    onChange: onSelectChange,\n  };\n\n  const handleDelete = () => {\n    const tmpList = props.list.filter(\n      (item) => selectedRowKeys.indexOf(item.key) === -1 //delete those selected items\n    );\n    console.log(\"onDeleteClick new list: \", tmpList);\n    props.updateList(tmpList);\n    setSelectedRowKeys([]);\n  };\n\n  const showPopconfirm = () => {\n    setVisible(true);\n  };\n\n  const handleOK = () => {\n    setVisible(false);\n\n    handleDelete(); //delete selected after confirming\n  };\n\n  const handleCancel = () => {\n    setVisible(false);\n  };\n\n  const hasSelected = selectedRowKeys.length > 0;\n  return (\n    <div className={styles[\"location-table-container\"]}>\n      <div className=\"location-table\">\n        <Popconfirm\n          title=\"Are you sure to delete?\"\n          visible={visible}\n          onConfirm={handleOK}\n          onCancel={handleCancel} \n        >\n          <Button\n            type=\"primary\"\n            onClick={showPopconfirm}\n            disabled={!hasSelected}\n            style={{\n              marginBottom: 10,\n            }}\n          >\n            Delete\n          </Button>\n        </Popconfirm>\n        \n        <Table\n          rowSelection={rowSelection}\n          columns={columns}\n          dataSource={data}\n          pagination={{ pageSize: 10 }}\n          bordered\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default connect(\n  (state) => {\n    const { list } = state;\n    return { list };\n  },\n  { updateList }\n)(LocationTableList);\n"]},"metadata":{},"sourceType":"module"}